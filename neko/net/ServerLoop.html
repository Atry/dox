<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8"> 
		<link href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.1/css/bootstrap-combined.min.css" rel="stylesheet">
		<script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
		<script src="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.1/js/bootstrap.min.js"></script>
		<link href="/dox/styles.css" rel="stylesheet">
		<script type="text/javascript" src="/dox/index.js"></script>
	</head>
	<body>
		<div class="container-fluid">
			<div class="navbar navbar-inverse navbar-fixed-top">
				<div class="navbar-inner">
					<ul class="nav">
						<li class="active"><a href="#">API</a></li>
					</ul>
				</div>
			</div>
			<div class="row-fluid">
				<div class="packages"><li><a href="/dox/index.html">top level</a></li>
<li><a href="/dox/cpp/index.html">cpp</a></li>
<li><a href="/dox/cpp/net/index.html">cpp.net</a></li>
<li><a href="/dox/cpp/rtti/index.html">cpp.rtti</a></li>
<li><a href="/dox/cpp/vm/index.html">cpp.vm</a></li>
<li><a href="/dox/cpp/zip/index.html">cpp.zip</a></li>
<li><a href="/dox/flash/index.html">flash</a></li>
<li><a href="/dox/flash/accessibility/index.html">flash.accessibility</a></li>
<li><a href="/dox/flash/automation/index.html">flash.automation</a></li>
<li><a href="/dox/flash/concurrent/index.html">flash.concurrent</a></li>
<li><a href="/dox/flash/desktop/index.html">flash.desktop</a></li>
<li><a href="/dox/flash/display/index.html">flash.display</a></li>
<li><a href="/dox/flash/display3D/index.html">flash.display3D</a></li>
<li><a href="/dox/flash/display3D/textures/index.html">flash.display3D.textures</a></li>
<li><a href="/dox/flash/errors/index.html">flash.errors</a></li>
<li><a href="/dox/flash/events/index.html">flash.events</a></li>
<li><a href="/dox/flash/external/index.html">flash.external</a></li>
<li><a href="/dox/flash/filters/index.html">flash.filters</a></li>
<li><a href="/dox/flash/geom/index.html">flash.geom</a></li>
<li><a href="/dox/flash/globalization/index.html">flash.globalization</a></li>
<li><a href="/dox/flash/media/index.html">flash.media</a></li>
<li><a href="/dox/flash/net/index.html">flash.net</a></li>
<li><a href="/dox/flash/net/drm/index.html">flash.net.drm</a></li>
<li><a href="/dox/flash/printing/index.html">flash.printing</a></li>
<li><a href="/dox/flash/sampler/index.html">flash.sampler</a></li>
<li><a href="/dox/flash/security/index.html">flash.security</a></li>
<li><a href="/dox/flash/sensors/index.html">flash.sensors</a></li>
<li><a href="/dox/flash/system/index.html">flash.system</a></li>
<li><a href="/dox/flash/text/index.html">flash.text</a></li>
<li><a href="/dox/flash/text/engine/index.html">flash.text.engine</a></li>
<li><a href="/dox/flash/text/ime/index.html">flash.text.ime</a></li>
<li><a href="/dox/flash/trace/index.html">flash.trace</a></li>
<li><a href="/dox/flash/ui/index.html">flash.ui</a></li>
<li><a href="/dox/flash/utils/index.html">flash.utils</a></li>
<li><a href="/dox/flash/xml/index.html">flash.xml</a></li>
<li><a href="/dox/haxe/index.html">haxe</a></li>
<li><a href="/dox/haxe/crypto/index.html">haxe.crypto</a></li>
<li><a href="/dox/haxe/ds/index.html">haxe.ds</a></li>
<li><a href="/dox/haxe/io/index.html">haxe.io</a></li>
<li><a href="/dox/haxe/macro/index.html">haxe.macro</a></li>
<li><a href="/dox/haxe/remoting/index.html">haxe.remoting</a></li>
<li><a href="/dox/haxe/rtti/index.html">haxe.rtti</a></li>
<li><a href="/dox/haxe/unit/index.html">haxe.unit</a></li>
<li><a href="/dox/haxe/xml/index.html">haxe.xml</a></li>
<li><a href="/dox/haxe/zip/index.html">haxe.zip</a></li>
<li><a href="/dox/js/index.html">js</a></li>
<li><a href="/dox/js/html/index.html">js.html</a></li>
<li><a href="/dox/js/html/audio/index.html">js.html.audio</a></li>
<li><a href="/dox/js/html/fs/index.html">js.html.fs</a></li>
<li><a href="/dox/js/html/idb/index.html">js.html.idb</a></li>
<li><a href="/dox/js/html/rtc/index.html">js.html.rtc</a></li>
<li><a href="/dox/js/html/sql/index.html">js.html.sql</a></li>
<li><a href="/dox/js/html/svg/index.html">js.html.svg</a></li>
<li><a href="/dox/js/html/webgl/index.html">js.html.webgl</a></li>
<li><a href="/dox/neko/index.html">neko</a></li>
<li><a href="/dox/neko/net/index.html">neko.net</a></li>
<li><a href="/dox/neko/vm/index.html">neko.vm</a></li>
<li><a href="/dox/neko/zip/index.html">neko.zip</a></li>
<li><a href="/dox/php/index.html">php</a></li>
<li><a href="/dox/php/db/index.html">php.db</a></li>
<li><a href="/dox/php/net/index.html">php.net</a></li>
<li><a href="/dox/sys/index.html">sys</a></li>
<li><a href="/dox/sys/db/index.html">sys.db</a></li>
<li><a href="/dox/sys/io/index.html">sys.io</a></li>
<li><a href="/dox/sys/net/index.html">sys.net</a></li>
</div>
				<div class="content"><h1><span class="d">class</span> <a href="/dox/neko/net/ServerLoop.html">ServerLoop</a>&lt;<a href="/dox/neko/net/ServerLoop/ClientData.html">ClientData</a>&gt;</h1>
<div class="doc"><p>This class enables you to quickly create a custom server that can
serve several clients in parallel. This server is using a single
thread and process so the server itself processing is not parallel.
Non-blocking sockets are used to ensure that a slow client does not
block the others.</p></div>
<h2>Class Fields</h2>
<a name="DEFAULT_BUFSIZE"></a><h3><code><span class="k">var</span> <span class="i">DEFAULT_BUFSIZE</span>:<a href="/dox/Int.html">Int</a></code></h3>
<div class="doc"><p>Each client has an associated buffer. This is the initial buffer size which
is set to 128 bytes by default.</p></div>
<a name="MAX_BUFSIZE"></a><h3><code><span class="k">var</span> <span class="i">MAX_BUFSIZE</span>:<a href="/dox/Int.html">Int</a></code></h3>
<div class="doc"><p>Each client has an associated buffer. This is the maximum buffer size which
is set to 64K by default. When that size is reached and some data can't be processed,
the client is disconnected.</p></div>
<h2>Instance Fields</h2>
<a name="listenCount"></a><h3><code><span class="k">var</span> <span class="i">listenCount</span>:<a href="/dox/Int.html">Int</a></code></h3>
<div class="doc"><p>This is the value of number client requests that the server socket
listen for. By default this number is 10 but can be increased for
servers supporting a large number of simultaneous requests.</p></div>
<a name="updateTime"></a><h3><code><span class="k">var</span> <span class="i">updateTime</span>:<a href="/dox/Float.html">Float</a></code></h3>
<div class="doc"><p>See <code>update</code>.</p></div>
<a name="clients"></a><h3><code><span class="k">var</span> <span class="i">clients</span>:<a href="/dox/List.html">List</a>&lt;<a href="/dox/neko/net/ServerLoop/ClientData.html">ClientData</a>&gt;</code></h3>
<div class="doc"><p></p></div>
<a name="closeConnection"></a><h3><code><span class="k">function</span> <span class="i">closeConnection</span>(<span class="i">s</span>:<a href="/dox/sys/net/Socket.html">Socket</a>):<a href="/dox/Bool.html">Bool</a></code></h3>
<div class="doc"><p>Closes the client connection and removes it from the client List.</p></div>
<a name="update"></a><h3><code><span class="k">function</span> <span class="i">update</span>():<a href="/dox/Void.html">Void</a></code></h3>
<div class="doc"><p>The <code>update</code> method is called after each socket event has been
processed or when <code>updateTime</code> has been reached. It can be used
to perform time-regular tasks such as pings. By default <code>updateTime</code>
is set to one second.</p></div>
<a name="clientDisconnected"></a><h3><code><span class="k">function</span> <span class="i">clientDisconnected</span>(<span class="i">d</span>:<a href="/dox/neko/net/ServerLoop/ClientData.html">ClientData</a>):<a href="/dox/Void.html">Void</a></code></h3>
<div class="doc"><p>This method is called after a client has been disconnected.</p></div>
<a name="clientWrite"></a><h3><code><span class="k">function</span> <span class="i">clientWrite</span>(<span class="i">s</span>:<a href="/dox/sys/net/Socket.html">Socket</a>, <span class="i">buf</span>:<a href="/dox/haxe/io/Bytes.html">Bytes</a>, <span class="i">pos</span>:<a href="/dox/Int.html">Int</a>, <span class="i">len</span>:<a href="/dox/Int.html">Int</a>):<a href="/dox/Void.html">Void</a></code></h3>
<div class="doc"><p>This method can be used instead of writing directly to the socket.
It ensures that all the data is correctly sent. If an error occurs
while sending the data, no exception will occur but the client will
be gracefully disconnected.</p></div>
<a name="processClientData"></a><h3><code><span class="k">function</span> <span class="i">processClientData</span>(<span class="i">d</span>:<a href="/dox/neko/net/ServerLoop/ClientData.html">ClientData</a>, <span class="i">buf</span>:<a href="/dox/haxe/io/Bytes.html">Bytes</a>, <span class="i">bufpos</span>:<a href="/dox/Int.html">Int</a>, <span class="i">buflen</span>:<a href="/dox/Int.html">Int</a>):<a href="/dox/Int.html">Int</a></code></h3>
<div class="doc"><p>This method is called when some data has been readed into a Client buffer.
If the data can be handled, then you can return the number of bytes handled
that needs to be removed from the buffer. It the data can't be handled (some
part of the message is missing for example), returns 0.</p></div>
<a name="onError"></a><h3><code><span class="k">function</span> <span class="i">onError</span>(<span class="i">e</span>:<a href="/dox/Dynamic.html">Dynamic</a>):<a href="/dox/Void.html">Void</a></code></h3>
<div class="doc"><p>Called when an error occured. This enable you to log the error somewhere.
By default the error is displayed using <code>trace</code>.</p></div>
<a name="run"></a><h3><code><span class="k">function</span> <span class="i">run</span>(<span class="i">host</span>:<a href="/dox/sys/net/Host.html">Host</a>, <span class="i">port</span>:<a href="/dox/Int.html">Int</a>):<a href="/dox/Void.html">Void</a></code></h3>
<div class="doc"><p>Run the server. This function should never return.</p></div>
</div>
			</div>
		</div>
	</body>
</html>